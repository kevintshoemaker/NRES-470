<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="NRES 470/670" />


<title>Stochasticity and Uncertainty</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">NRES 470/670</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="schedule.html">Schedule</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="INTRO.html">Introduction to NRES 470</a>
    </li>
    <li>
      <a href="LECTURE1.html">A whole-systems approach to population ecology</a>
    </li>
    <li>
      <a href="LECTURE2.html">Introduction to population ecology</a>
    </li>
    <li>
      <a href="LECTURE3.html">Thomas Robert Malthus (Limits to growth)</a>
    </li>
    <li>
      <a href="LECTURE4.html">Population Regulation (Logistic growth)</a>
    </li>
    <li>
      <a href="LECTURE5.html">Positive density dependence (Allee effect)</a>
    </li>
    <li>
      <a href="LECTURE6.html">Age-structured populations</a>
    </li>
    <li>
      <a href="LECTURE7.html">Matrix population models</a>
    </li>
    <li>
      <a href="LECTURE8.html">Stochastic population models</a>
    </li>
    <li>
      <a href="LECTURE9.html">Small population paradigm</a>
    </li>
    <li>
      <a href="LECTURE10.html">Individual-based models</a>
    </li>
    <li>
      <a href="LECTURE11.html">Declining population paradigm</a>
    </li>
    <li>
      <a href="LECTURE12.html">Population Viability Analysis</a>
    </li>
    <li>
      <a href="LECTURE13.html">Metapopulations</a>
    </li>
    <li>
      <a href="LECTURE14.html">PVA example: pdogs and ferrets</a>
    </li>
    <li>
      <a href="LECTURE15.html">Parameter estimation</a>
    </li>
    <li>
      <a href="LECTURE16.html">Species interactions: competition</a>
    </li>
    <li>
      <a href="LECTURE17.html">Species interactions: prey-predator</a>
    </li>
    <li>
      <a href="LECTURE18.html">Wrap-up</a>
    </li>
    <li>
      <a href="PVA1_421.html">NRES421: PVA basics</a>
    </li>
    <li>
      <a href="PVA2_421.html">NRES421: grizzly PVA</a>
    </li>
    <li>
      <a href="PVA3_421.html">NRES421: loggerhead PVA</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="LAB1.html">Lab 1: exponential growth</a>
    </li>
    <li>
      <a href="LAB2.html">Lab 2: logistic growth</a>
    </li>
    <li>
      <a href="LAB3.html">Lab 3: age-structured population growth</a>
    </li>
    <li>
      <a href="LAB4.html">Lab 4: matrix population models</a>
    </li>
    <li>
      <a href="LAB5.html">Lab 5: stochasticity and uncertainty</a>
    </li>
    <li>
      <a href="LAB6.html">Lab 6: metapopulations</a>
    </li>
    <li>
      <a href="LAB7.html">Lab 7: capture-mark-recapture</a>
    </li>
    <li>
      <a href="FINAL_PROJECTS.html">Final Projects!</a>
    </li>
    <li>
      <a href="EXTRA_CREDIT.html">Extra Credit!</a>
    </li>
  </ul>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Stochasticity and Uncertainty</h1>
<h4 class="author">NRES 470/670</h4>
<h4 class="date">Spring 2023</h4>

</div>


<p>To download the R script for this lecture, click <a
href="LECTURE8.R">here</a></p>
<div id="upcoming-midterm-exam" class="section level3">
<h3>Upcoming midterm exam</h3>
<p><strong>when and where</strong> The first midterm exam (out of two)
is coming up Wednesday <strong>March 15</strong>. You will have the
whole 50 minute class period to take the exam. The exam will be on paper
this year.</p>
<p><strong>what</strong> The exam will cover:</p>
<ul>
<li>All material in Chapters 1-3 of the Gotelli book <em>including
matrix population modeling concepts</em>.<br />
</li>
<li>All material covered in lectures, including the following web pages
and corresponding lectures and top hat pages:
<ul>
<li><a href="LECTURE1.html">Systems thinking and modeling</a></li>
<li><a href="LECTURE2.html">Exponential growth</a></li>
<li><a href="LECTURE3.html">Malthus and limits to growth</a></li>
<li><a href="LECTURE4.html">Logistic population growth</a></li>
<li><a href="LECTURE5.html">Allee effect</a></li>
<li><a href="LECTURE6.html">Age-structured populations</a></li>
<li><a href="LECTURE7.html">Matrix population models</a></li>
<li>NOTE: all lectures have been recorded and are available via the
“Zoom” link on WebCampus in case you missed any or in case you’d like to
use these recordings as review/study materials<br />
</li>
</ul></li>
<li>All material covered in labs 1-4, including:
<ul>
<li><a href="LAB1.html">Lab 1: exponential growth</a></li>
<li><a href="LAB2.html">Lab 2: logistic growth</a></li>
<li><a href="LAB3.html">Lab 3: age-structured populations</a></li>
<li><a href="LAB4.html">Lab 4: matrix population models</a></li>
</ul></li>
<li>Basic programming concepts:
<ul>
<li>Conditional logic (IF-THEN-ELSE): see examples in Malthus and Allee
effect lectures</li>
<li>Iteration (‘FOR loops’): see examples in Lab 1 and Lab 4.</li>
<li>NOTE: you will NOT be tested on how to run population models in R
(or how to do anything else in R).</li>
</ul></li>
</ul>
<p><em>The exam will consist of a mixture of multiple-choice and
short-answer questions</em></p>
<p><em>Please bring a calculator- a regular scientific calculator will
work fine</em></p>
<p>We will hold a review session for the exam during our regular class
meeting on the Monday prior to the exam (next Monday, March 13). Please
make note of any questions that come up as you study- we can talk these
over during the review session!</p>
<p><img src="uncertainty2.jpg" style="width:25.0%" /></p>
</div>
<div id="uncertainty" class="section level2">
<h2>Uncertainty!</h2>
<p>All ecological systems are full of uncertainty. We all know it
intuitively. But what <em>exactly</em> do we mean by that? And how can
we deal with it? How can we incorporate it into our models? How can we
communicate it to other researchers, and to managers?</p>
<p>Clearly this is a very important topic- but it is <em>not in the
Gotelli book</em>, nor is it in highlighted in most basic ecology
textbooks. For this module we are actually diving into the field of
<em>probability and statistics</em>!</p>
<div id="a-taxonomy-of-uncertainty" class="section level3">
<h3>A taxonomy of uncertainty</h3>
<p>There are two major reasons we can be uncertain. Either we <em>lack
sufficient knowledge</em> or the <em>system itself is variable and
unpredictable</em>. Let’s explore these two types of uncertainty.</p>
<ul>
<li><p><strong>You lack sufficient knowledge</strong>. This is also
known variously as <em>sampling uncertainty</em>, parameter uncertainty,
structural uncertainty, and more. <em>In practical terms: if you
collected more data you could (in principle) make a better model that
more closely represents reality.</em></p></li>
<li><p><strong>The system is inherently variable and
unpredictable</strong>. In population ecology and systems modeling, this
is also known as <strong>stochasticity</strong>. <em>In practical terms:
no matter how much we study and understand a natural system, we can not
predict the future with certainty</em>. Ecological systems are
inherently variable and unpredictable. We can’t know with certainty
whether or not an individual will mate, or die. We can’t really even be
certain whether the environmental conditions (e.g., weather) will be
favorable or unfavorable for offspring production or mortality!</p></li>
</ul>
</div>
</div>
<div id="how-to-deal-with-uncertainty" class="section level2">
<h2>How to deal with uncertainty</h2>
<p>As applied population ecologists, we must <strong>embrace
uncertainty</strong>. we have two major tools to help us manage and
account for uncertainty in our study systems: <em>uncertainty
analysis</em> and <em>stochastic models</em></p>
<div id="uncertainty-analysis" class="section level3">
<h3>Uncertainty analysis</h3>
<p>What if we simply don’t have enough data to build a perfect model?
This is an example of <em>lacking sufficient knowledge</em>. In this
case, the tool we use is called <strong>uncertainty analysis</strong>.
Basically, we try a range of possible values for a parameter (usually a
per-capita vital rate- often modeled as [Variables] in InsightMaker) we
are uncertain about (e.g., adult survival rate could be 0.6 or 0.7) and
see what happens to our study system (e.g., given the uncertainty we
have about the true parameter value, is it plausible that the population
will go extinct? Is it plausible that it will decline?).</p>
</div>
<div id="stochastic-models-demographic-and-environmental-stochasticity"
class="section level3">
<h3>Stochastic models (demographic and environmental stochasticity)</h3>
<ol style="list-style-type: decimal">
<li><p>Second, we usually can’t predict whether an individual will live
or die, breed or not breed, etc. All we can know is the
<em>probability</em> of mating, or the <em>probability</em> of dying, or
the per-capita <em>rate</em> of offspring production, or the probability
of a given offspring being female. But when it comes to projecting
exactly which individuals live or die (whether an individual will “get
lucky” so to speak!), who gives birth and who doesn’t, and how many
females are born, we <em>just can’t know for sure</em>. This is an
example of a system being inherently unpredictable. In population
ecology, this is called <strong>demographic stochasticity</strong>. In
this case, we <strong>randomly vary total births and deaths</strong>
(the [Flows] in InsightMaker) to represent the inherent unpredictability
of individual fates within a population.</p></li>
<li><p>Third, we usually can’t predict whether next year or the year
after will be favorable or unfavorable for population growth- that is,
whether the per-capita vital rates (e.g., <span
class="math inline">\(b\)</span>, or <span
class="math inline">\(d\)</span> or <span
class="math inline">\(r\)</span>) will be more or less optimal at a
future point in time (whether a <em>population</em> will “get lucky”, so
to speak). This is another example of a system being <em>inherently
unpredictable</em>. In population ecology this is called
<strong>environmental stochasticity</strong>. In this case, we
<strong>randomly vary per-capita vital rates</strong> (represented as
[Variables] in InsightMaker) to represent the inherent unpredictability
of environmental conditions.</p></li>
</ol>
<p><img src="dice1.png" /></p>
</div>
</div>
<div id="random-number-generation" class="section level2">
<h2>Random number generation</h2>
<p>To incorporate uncertainty and randomness into our models, we often
include <em>stochastic</em> components so that each model run
(replicate) – or each year of each model run – is different from one
another (the results are variable). That is, we need to include at least
one <strong>random number generator</strong> in our models! A random
number generator is like a lottery ball machine! Each time we want a new
number we reach in and pull another number out, record the number, put
it back in and shake it up again.</p>
<p><img src="lottery1.png" /></p>
<p>Every random-number generator has a <strong>distribution</strong>.
This is a way of defining what exactly is in the box. This can be
visualized as a boxplot or histogram, with the unique possible values
represented on the X axis and the probabilities associated with each
unique value represented on the Y axis.</p>
<p>If you want to follow along with this lecture in R, you can find the
R script <a href="LECTURE8.R">here</a>. I recommend right-clicking on
the link, saving the script to a designated folder (ideally, your
project directory), and loading up the script in RStudio.</p>
<p>For example, the box might have 10 “ones”, 5 “twos”, and 2 “threes”.
In this case the distribution looks like this (<em>probability</em> of
each <em>possibility</em>):</p>
<pre class="r"><code>#############
# Random number generation!


#####
# define an arbitrary distribution

box &lt;- c(rep(1,10),rep(2,5),rep(3,2))                                           # define what&#39;s in the lottery ball machine (10 &quot;1&quot; balls, 5 &quot;2&quot; balls and 2 &quot;3&quot; balls)
barplot(table(box)/sum(table(box)),ylab=&quot;probability&quot;,xlab=&quot;possibility&quot;)       # visualize the distribution of possibilities</code></pre>
<p><img src="LECTURE8_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>A probability distribution can be pretty much anything you want it to
be. However, there are several key families of probability distributions
that come up again and again, and we should learn them!</p>
<div id="probability-distributions" class="section level3">
<h3>Probability distributions</h3>
</div>
<div id="discrete-vs.-continuous" class="section level3">
<h3>Discrete vs. continuous</h3>
<p>In <em>discrete distributions</em>, each unique outcome has a
specific probability (like the probability of flipping a coin 10 times
and getting 4 heads). For practical purposes in this class, discrete
distributions produce integers and are used to represent demographic
stochasticity (variation in the total number of births and deaths even
if per-capita vital rates don’t change). For example, let’s consider a
<em>binomial distribution</em></p>
<pre class="r"><code>################
# Discrete distributions
################


#######
# Example: binomial distribution (coin flipping distribution)

             # plot a discrete distribution!
xvals &lt;- seq(0,10,1)
probs &lt;- dbinom(xvals,10,prob=0.3)
names(probs) &lt;- xvals
               
barplot(probs,ylab=&quot;Probability&quot;,xlab=&quot;Possibilities&quot;,main=&quot;Binomial distribution (discrete)&quot;)</code></pre>
<p><img src="LECTURE8_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p><strong>Q</strong> What population parameter might the binomial
distribution be useful for modeling?</p>
<p>Another discrete distribution we will use in this class is the
<em>Poisson distribution</em>:</p>
<pre class="r"><code>#########
# Poisson distribution

xvals &lt;- seq(0,10,1)
probs &lt;- dpois(xvals,lambda=2.2)     # POisson distribution
names(probs) &lt;- xvals
               
barplot(probs,ylab=&quot;Probability&quot;,xlab=&quot;Possibilities&quot;,main=&quot;Poisson distribution (discrete)&quot;)</code></pre>
<p><img src="LECTURE8_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p><strong>Q</strong> What population parameter might the Poisson
distribution be useful for modeling?</p>
<p>In <em>continuous distributions</em>, there are an infinite number of
possibilities between any two unique possibilities. For practical
purposes in this class, continuous distributions produce numbers with
decimal components and are used to represent environmental stochasticity
(variability in per-capita vital rates).</p>
<p>Let’s consider the <em>uniform distribution</em>:</p>
<pre class="r"><code>################
# CONTINUOUS DISTRIBUTIONS
#################

##########
# Uniform distribution

lower = 0
upper = 10

curve(dunif(x,lower,upper),0,10,ylab=&quot;Probability (density)&quot;,xlab=&quot;Possibilities&quot;,main=&quot;Uniform distribution (continuous)&quot;,ylim=c(0,1))   # probability density</code></pre>
<p><img src="LECTURE8_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>This isn’t a very interesting looking distribution. All possible
numbers from 0 to 10 are equally probable.</p>
<p>Another continuous distribution you should know is called the
<em>Normal distribution</em>. This distribution (the classic bell-shaped
distribution) has a lower bound of <span
class="math inline">\(-\infty\)</span> and an upper bound of <span
class="math inline">\(\infty\)</span>.</p>
<pre class="r"><code>#########
# Normal distribution

mean = 7.1
stdev = 1.9

curve(dnorm(x,mean,stdev),0,15,ylab=&quot;Probability (density)&quot;,xlab=&quot;Possibilities&quot;,main=&quot;Normal distribution (continuous)&quot;)   # probability density</code></pre>
<p><img src="LECTURE8_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p><strong>Q</strong> What population parameter(s) might this
distribution be useful for modeling?</p>
</div>
<div id="explore-distributions-in-r" class="section level3">
<h3>Explore distributions in R</h3>
<p>Let’s play around with distributions a little using R.</p>
<p>Note that all these distributions are also available to you in
InsightMaker.</p>
<p>Here’s some R syntax for you!</p>
<p>Note that all the R random number generators are
<strong>functions</strong> that start with the letter “r” – for
“random”.</p>
<p>Random number generators are <em>functions</em> (“machines” that take
inputs and transform the inputs (arguments) into useful outputs – in R,
that means you will use the following syntax:</p>
<pre><code>
thisfunction([argument 1],[argument 2] ... )

myresults &lt;- thisfunction([argument 1],[argument 2] ... )

</code></pre>
<p>The first <em>argument</em> (specified within the parentheses in a
function call) represents how many random numbers you want R to draw
from the specified distribution.</p>
<p>The arguments after that represent the <em>parameters</em> of the
random distribution you wish to draw from – you can modify these
parameters to suit your needs. Here are some examples (drawing 1 random
number at a time):</p>
<pre class="r"><code>################
# Random number generation!


### Binomial random number generator
rbinom(1,size=10,prob=0.5)    # note: &quot;size&quot; is the number of coin flips, and &quot;prob&quot; is the probability of coming up &#39;heads&#39;

### Poisson random number generator
rpois(1,lambda=4.1)     # note: &quot;lambda&quot; represents the mean (and variance!) of the Poisson distribution

### Uniform random number generator
runif(1,min=1,max=3.5)   # &quot;min&quot; and &quot;max&quot; are pretty obvious!

### Normal random number generator
rnorm(1,mean=3,sd=4.1)   # normal distribution is defined by &quot;mean&quot; and &quot;sd&quot; (standard deviation).</code></pre>
<p><strong>tophat</strong> In R, generate one random number from a
Binomial distribution with 10 trials and probability of success equal to
0.3</p>
<p><strong>tophat</strong> In R, generate one random number from a
Poisson distribution with mean of 2.1</p>
<p><strong>tophat</strong> In R, generate one random number from a
Normal distribution with mean of 1.75 and standard deviation of 0.9</p>
<p>Can you modify one of the above functions to produce more than 1
random number?</p>
<p>Try to modify one of the other parameters and generate 100 random
numbers? To visualize the distribution you can use the “hist()” function
to produce a histogram of the random distribution you just
generated!</p>
</div>
<div id="in-class-exercise-fit-a-distribution" class="section level3">
<h3>In-Class Exercise: Fit a distribution!</h3>
<p><img src="canvasback1.jpg" /></p>
<p>Let’s imagine we have studied a large population of canvasback ducks
over a 20 year period and we have estimated the average number of eggs
successfully hatched per female (per-capita birth rate) for each of 20
consecutive years.</p>
<p>We first enter these numbers into R and visualize the
distribution:</p>
<pre class="r"><code>#############
# Demonstration: use data to determine a distribution!
#############


#############
# Made-up canvasback data- average number of eggs hatched per female for 20 years

hatch_perfem &lt;- c(3.05, 1.45, 0.99, 3.24, 1.49, 1.70, 1.66, 2.32, 0.83, 2.41,
2.33, 1.68, 1.43, 2.74, 2.05, 3.13, 1.90, 3.69, 1.55, 2.79)

hist(hatch_perfem)</code></pre>
<p><img src="LECTURE8_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p><strong>Q</strong>: What type of uncertainty does this set of values
most likely represent? What random number generator might you use to
represent this uncertainty? [tophat]</p>
<p>Now let’s try to fit a distribution to these data! Let’s use a normal
distribution. (NOTE: technically speaking we might want to use a
distribution that can’t produce negative numbers- like the log-normal
distribution, but we will usually use the normal distribution in this
class for simplicity)</p>
<p>We could use statistics to fit the distribution, but for now we are
just going to use trial and error! Here is some code to help you get
started.</p>
<p>Note that the normal distribution has two parameters: the first
(‘mean’) helps to define the mean (obviously!) and the other (‘sd’)
determines the variability of the distribution.</p>
<pre class="r"><code>############
# Try to identify a normal distribution to represent the canvasback data

## first, plot a histogram of the data from the 20-year study
hist(hatch_perfem,freq=F,main=&quot;Histogram of avg number hatched per female&quot;,xlab=&quot;possibilities&quot;,ylab=&quot;probability&quot;,xlim=c(0,10),ylim=c(0,1))

## now, overlay a normal probability distribution with arbitrary parameters (mean and sd). This is just a starting point.

curve(dnorm(x,mean=4,sd=2),col=&quot;green&quot;,lty=2,lwd=2,add=T)

curve(dnorm(x,mean=1.8,sd=0.39),col=&quot;green&quot;,lty=2,lwd=2,add=T)    # try a different value...</code></pre>
<p><img src="LECTURE8_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<pre class="r"><code>#### Keep changing the value for &#39;mean&#39; and &#39;sd&#39; until you find best parameters to fit the data!

#### Once you find the best-fit parameters, generate 5 random numbers from this distribution using the &quot;rnorm()&quot; function in R

rnorm(5,mean=4,sd=1)    # for example! (remember to change the &quot;mean&quot; and &quot;sd&quot; parameters to the values you identified above!)</code></pre>
<pre><code>## [1] 4.004980 3.606375 3.100934 4.527763 3.447750</code></pre>
<ol style="list-style-type: decimal">
<li>Use trial-and-error to find appropriate “mean” and “sd” parameters
for the normal distribution.</li>
</ol>
<p><strong>Q</strong>: what is the best-fit value for “mean”? [tophat]
<strong>Q</strong>: what is the best-fit value for “sd”? [tophat]</p>
<ol start="2" style="list-style-type: decimal">
<li>Use your fitted distribution to predict the per-capita production of
hatchlings for the next 5 years. To do this, use the “rnorm()” function
in R.</li>
</ol>
</div>
<div
id="in-class-exercise-2-stochasticity-and-uncertainty-in-insightmaker"
class="section level3">
<h3>In-Class Exercise 2: Stochasticity and Uncertainty in
InsightMaker</h3>
<p>These concepts (like everything in this class) are best understood by
building models.</p>
<p>Let’s start with a basic exponentially growing population that looks
something like this:</p>
<p><img src="IM10.jpg" /></p>
<p>You can clone this one if you’d like: <a
href="https://insightmaker.com/insight/2WNEa6ZT3Z23CfLbuQqfJR/base-exp-growth-b-and-d">https://insightmaker.com/insight/2WNEa6ZT3Z23CfLbuQqfJR/base-exp-growth-b-and-d</a></p>
<div id="parameter-uncertainty" class="section level4">
<h4><em>Parameter Uncertainty</em></h4>
<ol style="list-style-type: decimal">
<li><p>Set <em>Birth rate</em> equal to 0.4 and <em>Death rate</em>
equal to 0.3. Set initial abundance to 10. Under the “Settings” menu,
set the model to run for 10 years. Make sure your <em>Population</em>
stock can not go negative (this is a setting in the configuration
panel). Hit “Simulate”- you should see exponential growth!</p></li>
<li><p><strong>Parameter uncertainty:</strong> What if we have imperfect
knowledge about birth rate? The birth rate could be anything from 0.2 to
0.5. Run the model with the lowest and the highest possible birth rate.
NOTE: you can give each results plot a title using the gear-shaped
symbol at the top of your plot window- that way you can name your
scenarios – e.g., “min birth rate”.</p></li>
<li><p>Now use the “Compare Results” tool (under the “Tools” menu in the
upper right corner…) to visualize the range of possible population
growth trajectories that would be possible given our
<em>uncertainty</em> (lack of knowledge) about birth rate.</p></li>
</ol>
<p><strong>Q</strong> What is the range of possible final abundances
after 10 years?</p>
<p><strong>Q</strong> Should we study this system more if we want to
know whether the population is growing or declining??</p>
</div>
<div id="demographic-stochasticity" class="section level4">
<h4><em>Demographic Stochasticity</em></h4>
<ol style="list-style-type: decimal">
<li><p>Set <em>Birth rate</em> back to 0.4. Hit “Simulate”- make sure
you still see exponential growth!</p></li>
<li><p>We will use a <em>Binomial distribution</em> to represent the
number of mortalities. That is, we <em>flip a coin the same number of
times as there are individuals in the population</em>. If the coin comes
up heads, then the individual dies. In this case we are using a biased
coin- it only comes up heads 30% of the time! The <em>Binomial
distribution</em> essentially represents the number of times heads came
up. To do this in InsightMaker, use the following formula for the
<em>Deaths</em> flow (you can use the right-hand “Random Number
Functions” menu to auto-type the proper syntax):</p></li>
</ol>
<pre><code>RandBinomial([Population], [Death rate])</code></pre>
<p>In plain English: the number of deaths each year is a random quantity
determined by “coin-flipping” (Binomial distribution is the “coin flip”
distribution). The total deaths is computed by flipping a coin for each
individual in the population and killing off all individuals that come
out ‘heads’ (where the probability of coming up ‘heads’ is the death
rate).</p>
<p>For the total births, <span class="math inline">\(B\)</span> we will
use the <em>Poisson</em> distribution. The Poisson distribution is often
use to represent births, because it produces whole numbers, can’t go
negative, AND it has no hard upper limit (unlike the binomial
distribution).</p>
<p>NOTE: there could feasibly be more births than there are individuals
currently in the population (e.g., if all individuals have two
offspring!). This would not be possible with a binomial distribution!
That is, you can’t get more “heads” (deaths) than the total number of
coin flips (individuals in the population).</p>
<p>To do this in InsightMaker, use the following formula for the
<em>Births</em> flow:</p>
<pre><code>RandPoisson([Population]*[Birth rate])</code></pre>
<p>-or-</p>
<pre><code>Lambda &lt;- [Population]*[Birth rate]
RandPoisson(Lambda)</code></pre>
<p>In plain English: the number of births ([Births] flow in
InsightMaker) is a random draw from a Poisson random number generator
with a mean (Lambda) equal to the expected number of births
([Population]*[Birth rate]).</p>
<ol start="3" style="list-style-type: decimal">
<li><p>Run the simulation. What does it look like?</p></li>
<li><p>Use the “Sensitivity Testing” tool (in the “Tools” menu, upper
right corner) to run the model 50 times. Choose [Population] as the
“Monitored Primitive”. NOTE: I recommend choosing the “Plot Each Run”
button – that way we can generate a “spaghetti plot”.</p></li>
<li><p>Change the initial abundance to 500 and re-run the “Sensitivity
Testing” tool.</p></li>
</ol>
<p><strong>Q</strong> Is the effect of <em>demographic
stochasticity</em> larger or smaller at low or high abundances?</p>
</div>
<div id="environmental-stochasticity" class="section level4">
<h4><em>Environmental Stochasticity</em></h4>
<ol style="list-style-type: decimal">
<li>Set <em>Births</em> back to what it was before ([Population]x[Birth
rate]), and do the same for <em>Deaths</em> ([Population]x[Death
rate]).</li>
<li>We will use a <em>Normal distribution</em> to represent how the
per-capita birth rate changes each year. This could represent climatic
variablity – “good years” and “bad years”. The <em>Normal
distribution</em> is commonly used for this type of variability- it is
characterized by an average value (<strong>mean</strong>) and a
variability measure (<strong>standard deviation</strong>). To do this in
InsightMaker, use the following formula for the <em>Birth Rate</em>
variable:</li>
</ol>
<pre><code>RandNormal(0.4, 0.4)</code></pre>
<p>Similarly, use the following formula for the <em>Death Rate</em>
variable:</p>
<pre><code>RandNormal(0.3, 0.3)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>Use the “Sensitivity Testing” tool (in the “Tools” menu, upper
right corner) to run the model 50 times. Choose [Population] as the
“Monitored Primitive”.</p></li>
<li><p>Change the initial abundance to 500 and re-run the “Sensitivity
Testing” tool.</p></li>
</ol>
<p><strong>Q</strong> Is the effect of <em>environmental
stochasticity</em> bigger at low or high abundances?</p>
<ol start="6" style="list-style-type: decimal">
<li>Note that the normal distribution CAN go below zero or above 1,
which is not always biologically realistic! However, as we have seen
before, InsightMaker does not allow a [Flow In] to remove from a [Stock]
or a [Flow Out] to add to a [Stock], so we don’t really need to worry
about this problem! That is, InsightMaker will <em>truncate</em> the
normal distribution for us. Alternatively (if we want to be very
explicit) we could just <strong>truncate</strong> the normal
distribution ourselves. That is, if the random number you draw comes out
below zero, just make it zero!</li>
</ol>
<p>For the [Birth Rate] variable in InsightMaker, this can be done like
this:</p>
<pre><code>Max(0,RandNormal(0.4, 0.4))</code></pre>
<p><strong>Q</strong> Can you implement a <strong>catastrophe</strong>
scenario? That is, make a scenario where there is a low probability of
an event (e.g., flood, disease, drought) that causes very high mortality
and/or very low birth rate?</p>
<p>A catastrophe can be implemented by using an IF-THEN-ELSE statement:
if the random number is below some rare value (e.g., 0.05) then cause a
catastrophe to occur (otherwise keep all vital rates at their normal
values)!</p>
<p>Hint: The most basic (most commonly used) random number generator
draws numbers from a <em>uniform</em> distribution with a minimum of 0
and a maximum of 1. To do this in InsightMaker, you can use this
syntax:</p>
<pre><code>Rand(0, 1)</code></pre>
<p><strong>Q</strong> What if environmental stochasticity influences
survival and fecundity in the same manner? That is: what if a “good
year” for births is also a good year for survival? Would this increase
or decrease the effect of environmental stochasticity on population
dynamics? In InsightMaker, try to implement a scenario where the
environmental stochasticity in survival rate is perfectly
<strong>correlated</strong> with environmental stochasticity in birth
rate.</p>
<p>Hint: you will need another [variable] in your InsightMaker canvas-
this variable could be named something like “Forage Quality”, and should
store a random draw from a Normal distribution with mean “0” and
standard deviation “1”:</p>
<pre><code>RandNormal(0, 1)</code></pre>
<p>Next, you can alter your per-capita fecundity parameter to have the
following syntax, which would represent a mean fecundity of 0.85 with a
standard deviation of 0.4</p>
<pre><code>0.85+0.4*[forage quality]</code></pre>
<p><a href="LECTURE9.html">–go to next lecture–</a></p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
