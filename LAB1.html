<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="NRES 470/670" />


<title>Lab 1: exponential growth</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">NRES 470/670</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="schedule.html">Schedule</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="INTRO.html">Introduction to NRES 470</a>
    </li>
    <li>
      <a href="LECTURE1.html">A whole-systems approach to population ecology</a>
    </li>
    <li>
      <a href="LECTURE2.html">Introduction to population ecology</a>
    </li>
    <li>
      <a href="LECTURE3.html">Thomas Robert Malthus</a>
    </li>
    <li>
      <a href="LECTURE4.html">Population Regulation</a>
    </li>
    <li>
      <a href="LECTURE5.html">Passenger Pigeon</a>
    </li>
    <li>
      <a href="LECTURE6.html">Age-structured populations</a>
    </li>
    <li>
      <a href="LECTURE7.html">Matrix population models</a>
    </li>
    <li>
      <a href="LECTURE8.html">Stochastic population models</a>
    </li>
    <li>
      <a href="LECTURE9.html">Small population paradigm</a>
    </li>
    <li>
      <a href="LECTURE10.html">Individual-based models</a>
    </li>
    <li>
      <a href="LECTURE11.html">Declining population paradigm</a>
    </li>
    <li>
      <a href="LECTURE12.html">Population Viability Analysis</a>
    </li>
    <li>
      <a href="LECTURE13.html">Metapopulations</a>
    </li>
    <li>
      <a href="LECTURE14.html">PVA example: pdogs and ferrets</a>
    </li>
    <li>
      <a href="LECTURE15.html">Parameter estimation</a>
    </li>
    <li>
      <a href="LECTURE16.html">Species interactions: competition</a>
    </li>
    <li>
      <a href="LECTURE17.html">Species interactions: prey-predator</a>
    </li>
    <li>
      <a href="LECTURE18.html">Wrap-up</a>
    </li>
    <li>
      <a href="PVA1_421.html">NRES421: PVA basics</a>
    </li>
    <li>
      <a href="PVA2_421.html">NRES421: grizzly PVA</a>
    </li>
    <li>
      <a href="PVA3_421.html">NRES421: loggerhead PVA</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="LAB1.html">Lab 1: exponential growth</a>
    </li>
    <li>
      <a href="LAB2.html">Lab 2: logistic growth</a>
    </li>
    <li>
      <a href="LAB3.html">Lab 3: age-structured population growth</a>
    </li>
    <li>
      <a href="LAB4.html">Lab 4: matrix population models</a>
    </li>
    <li>
      <a href="LAB5.html">Lab 5: stochasticity and uncertainty</a>
    </li>
    <li>
      <a href="LAB6.html">Lab 6: metapopulations</a>
    </li>
    <li>
      <a href="LAB7.html">Lab 7: capture-mark-recapture</a>
    </li>
    <li>
      <a href="FINAL_PROJECTS.html">Final Projects!</a>
    </li>
    <li>
      <a href="EXTRA_CREDIT.html">Extra Credit!</a>
    </li>
  </ul>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Lab 1: exponential growth</h1>
<h4 class="author">NRES 470/670</h4>
<h4 class="date">Spring 2022</h4>

</div>


<p>In this lab we will have an opportunity to do some simple population modeling using three different software packages: MS Excel, R, and InsightMaker. I encourage you to work in groups- but just remember you must submit individually!</p>
<div id="nomenclature-for-population-ecology" class="section level2">
<h2>Nomenclature for Population Ecology</h2>
<p>First of all, we need a symbol to represent population size. This is <span class="math inline">\(N\)</span>!</p>
<p><span class="math inline">\(\Delta N\)</span> represents the change in population size, <span class="math inline">\({N_{t+1}}-{N_t}\)</span></p>
<p>The famous “BIDE” equation is a way to break down <span class="math inline">\(\Delta N\)</span> into components.</p>
<p><span class="math inline">\(\Delta N = B + I - D - E \qquad \text{(Eq. 1)}\)</span></p>
<p>where <span class="math inline">\(B\)</span> represents the number of births, <span class="math inline">\(I\)</span> represents the number of immigrants, <span class="math inline">\(D\)</span> represents the number of deaths, and <span class="math inline">\(E\)</span> represents the number of emigrants.</p>
<p>If we ignore immigration and emigration, then the BIDE equation simplifies to:</p>
<p><span class="math inline">\(\Delta N = B - D \qquad \text{(Eq. 2)}\)</span></p>
<p>Now let’s focus on <span class="math inline">\(B\)</span> and <span class="math inline">\(D\)</span>. The important thing to recognize is that the number of births and deaths in a population is not constant.</p>
<p>What does the number of births depend on?</p>
<p>What <strong>is</strong> more likely to be constant is the <em>per-capita</em> rate of producing offspring, or dying. Does this make sense?</p>
<p>Examples of per-capita rates:</p>
<ul>
<li>“<em>for every individual in the population now</em>, we expect 0.8 new juveniles to enter the population in the coming year”</li>
<li>“<em>for every female in the population now</em>, we expect 1.1 offspring will be born this year”</li>
<li>“we expect 3% of the current population to be harvested this year”</li>
<li>“we expect 10% of the current population to die in the coming year”</li>
</ul>
<p>These per-capita rates are often expressed as lower case letters. So <span class="math inline">\(b\)</span> represents per-capita birth rate, and <span class="math inline">\(d\)</span> represents per-capita death rate (note: per-capita deaths are easier to think of as a fraction of the current population!).</p>
<p>To compute per-capita birth and death rates (alson known as <strong>population vital rates</strong>), you can just divide the total number of births (B) and deaths (D) by the population size N:</p>
<p><span class="math inline">\(b = \frac {B_t}{N_t} \qquad \text{(Eq. 3)}\)</span></p>
<p>–or, re-factored in terms of B–</p>
<p><span class="math inline">\(B_t = b \cdot N_t\)</span></p>
<p>The letter <span class="math inline">\(t\)</span> of course represents time. So the above equation could be described as follows: “the number of births at a given time is equal to the per-capita birth rate times the total population size at that time”</p>
<p>Similarly,</p>
<p><span class="math inline">\(D_t = d \cdot N_t \qquad \text{(Eq. 4)}\)</span></p>
<p>Okay, we’re almost there.</p>
<p>If <span class="math inline">\(\Delta N = B - D \qquad \text{(Eq. 5)}\)</span></p>
<p>then</p>
<p><span class="math inline">\(\Delta N = b \cdot N_t - d \cdot N_t\qquad \text{(Eq. 6)}\)</span></p>
<p>which is equal to</p>
<p><span class="math inline">\(\Delta N = (b - d) \cdot N_t \qquad \text{(Eq. 7)}\)</span></p>
<p>which could also be written:</p>
<p><span class="math inline">\(\Delta N = r \cdot N_t\qquad \text{(Eq. 8)}\)</span></p>
<p>Where <span class="math inline">\(r\)</span> represents the difference between the per-capita birth and death and death rates. If <span class="math inline">\(r\)</span> is positive, then births are greater than deaths and the population grows. If <span class="math inline">\(r\)</span> is negative then deaths exceed births and the population declines.</p>
<p>This is probably the most fundamental equation of population ecology.</p>
<p>We can use <em>calculus notation</em> to consider the change in population size for a continually growing population:</p>
<p><span class="math inline">\(\frac{\partial N}{\partial t} = r \cdot N \qquad \text{(Eq. 9)}\)</span></p>
<p>If you integrate this equation across time from the initial time (t=0) to time <em>t</em>, you get an equation that describes the population size at any time <span class="math inline">\(t\)</span>:</p>
<p><span class="math inline">\(N_t = N_0 e^{rt} \qquad \text{(Eq. 10)}\)</span></p>
<p>That is, population size at time <span class="math inline">\(t\)</span> is equal to the population size at time zero (initial abundance, <span class="math inline">\(N_0\)</span>) multiplied by the base of the natural logarithm (<em>e</em>) to the <span class="math inline">\(rt\)</span> power.</p>
<p>There you have it! Now you can compute population growth and population size over time!</p>
<p>But wait, what about Lambda?? You’ve probably seen this term before to represent population growth rate.</p>
<p>The greek symbol lambda (<span class="math inline">\(\lambda\)</span>), is used to represent the <em>finite rate of growth</em>, or <span class="math inline">\(\frac {N_{t+1}}{N_t}\)</span>.</p>
<p>Lambda is what you multiply the current population size by to compute the population size in the next time step.</p>
<p><span class="math inline">\(N_{t+1}=N_t + B - D \qquad \text{(Eq. 11)}\)</span></p>
<p><span class="math inline">\(N_{t+1}=N_t + b_d \cdot N_t - d_d \cdot N_t \qquad \text{(Eq. 12)}\)</span></p>
<p>I am using the <em>d</em> subscript to indicate that the per-capita birth and death rates now represent <strong>discrete growth</strong> (these rates only apply once per time step and are not compounded continuously)</p>
<p>Here are some expressions to illustrate the difference between discrete and continuous rates:</p>
<p><span class="math inline">\(b=0.9\)</span>: “New individuals enter into the population at a rate of 0.9 per female per year, and these new individuals are born continuously throughout the year”<br />
<span class="math inline">\(b_d=0.9\)</span>: “Babies enter into the population at a rate of 0.9 per adult female per year, but the entire pool of babies enters the population simultaneously on April 1 each year”<br />
<span class="math inline">\(d=0.23\)</span>: “Approximately 23% of the population dies each year, but the deaths occur evenly throughout the year”<br />
<span class="math inline">\(d_d=0.23\)</span>: “Approximately 23% of the population dies each year, but all the deaths are assumed to occur during winter hibernation each year”<br />
<span class="math inline">\(r=0.15\)</span>: “The population is growing constantly (continuously) at a rate of exactly 15% per year (NOTE: this can be confusing- you will not have exactly 15% more individuals in the population one year later, but in fact you will have 16.2% more individuals due to the process of <em>compounding</em>! This should be more clear by the end of the lab)”.<br />
<span class="math inline">\(r_d=0.15\)</span>: “The population size one year from now will be exactly 15% higher than it is today”</p>
<p><span class="math inline">\(N_{t+1}=N_t + (b_d - d_d) \cdot N_t \qquad \text{(Eq. 13)}\)</span></p>
<p><span class="math inline">\(N_{t+1}=N_t + r_d \cdot N_t \qquad \text{(Eq. 14)}\)</span></p>
<p><span class="math inline">\(N_{t+1}=N_t \cdot (1 + r_d) \qquad \text{(Eq. 15)}\)</span></p>
<p><span class="math inline">\(N_{t+1}=\lambda \cdot N_t \qquad \text{(Eq. 16)}\)</span></p>
<p>Just so you know, you can convert between Lambda and the continuous rate of growth (<em>r</em>) easily: all you need to do is use the natural logarithm:</p>
<p><span class="math inline">\(e^r = \lambda\)</span><br />
<span class="math inline">\(r = ln(\lambda)\)</span></p>
<p>Finally, if you want to compute the population size after <span class="math inline">\(t\)</span> time-steps of discrete population growth (analogous to eq. 10) you can use the following equation:</p>
<p><span class="math inline">\(N_t = N_0 * \lambda^{t} \qquad \text{(Eq. 17)}\)</span></p>
<p>Okay let’s start the lab! The first software we will use is our old friend, MS <strong>Excel</strong>!</p>
</div>
<div id="exponential-growth-in-excel" class="section level2">
<h2>Exponential growth in Excel</h2>
<ol style="list-style-type: decimal">
<li><p>Open the Excel spreadsheet <a href="ExpGrowthExcel.xlsx">ExpGrowthExcel.xlsx</a>. To download this file, right click on the link and select “<em>Save link as..</em>”. In the first column, we have a timestep of 1 year for 30 years. In the second column, we have an initial population size (<span class="math inline">\(N_0\)</span>) of 100 individuals. We also have a per-capita rate of increase (<span class="math inline">\(r\)</span>) that is currently set at 0.1 (10%) per year. Assume for now that <span class="math inline">\(r\)</span> represents <span class="math inline">\(r_d\)</span>, or the <em>discrete rate of increase</em>.</p></li>
<li><p>To generate <span class="math inline">\(N_t\)</span> for the remaining time steps, we need to apply our knowledge of population ecology. Specifically we need to apply equation 16, above for modeling discrete population growth in a single time step. You will first want to convert <span class="math inline">\(r_d\)</span> to <span class="math inline">\(\lambda\)</span> using the formula <span class="math inline">\(\lambda = 1+r_d\)</span>. Do this by clicking in a cell (e.g., cell D5), typing ‘=’ in the cell (indicating that you are about to enter a <strong>formula</strong>), clicking on cell D3 (indicating that you will use this cell’s value in the formula) and adding 1. As you do this, you should see the equation you are creating appear in the equation editor. The formula should look like “=D3+1”. Next, you can apply equation 16 directly by clicking in the empty <span class="math inline">\(N_{1}\)</span> cell (position B3), typing ‘=’ in the cell (indicating that you are about to enter a <strong>formula</strong>), clicking on the <span class="math inline">\(N_{0}\)</span> cell (position B2– indicating that you will use this cell’s value in the formula), and completing the equation (e.g., "=B2*D5", where cell D5 stores <span class="math inline">\(\lambda\)</span>). Hit enter.</p></li>
<li><p>You can fill the remainder of the cells using the same equation for the other time steps by clicking and dragging (or double clicking) the small square at the bottom of the N(2) cell, which appears when the cell is selected.</p></li>
<li><p>What happened? We are not seeing a growing population here- actually it seems quite flat! this is surely not what we want! Click on the N(3) cell to see what equation is being used to calculate the cell value. The equation is =B3*D6. The B3 part is correct - we want to calculate the N(3) population size using the <span class="math inline">\(N\)</span> from the previous timestep - but the D6 part is incorrect. We always want to use the same <span class="math inline">\(\lambda\)</span> - which is always in the same cell (cell D5). You can see that when you drag down an equation as we have done, Excel adds 1 for each row so that the equation references the same relative positions in the spreadsheet for each new cell you want to calculate. We like that Excel did that for <span class="math inline">\(N\)</span>, but not for <span class="math inline">\(r\)</span> or <span class="math inline">\(\lambda\)</span>, so we can tell Excel to keep this value in the same row (row 3) for <span class="math inline">\(r\)</span> (or <span class="math inline">\(\lambda\)</span>) by inserting a dollar sign in our equation (in Excel terminology, this is a ‘fixed reference’).</p></li>
<li><p>In the N(2) cell, edit the equation in the equation editor (or ‘function bar’) above the spreadsheet so that there is a dollar sign in D3 (i.e., ‘D$3’ instead of ‘D3’) (or just use the F4 shortcut).</p></li>
<li><p>Now drag the equation down again, and you should have a population size in row 32 of 1745 (representing the population size at year 30!).</p></li>
</ol>
<p>NOTE: you can format the cells in column B to be whole numbers using the context menu (select column B &gt;&gt; Format Cells &gt;&gt; Number &gt;&gt; Decimal places = 0)</p>
<ol start="7" style="list-style-type: decimal">
<li>Now we will plot our population against time. Select both columns of data, and select the <em>scatter plot</em> (or “line plot”) option under the ‘Insert’ menu. A plot of <span class="math inline">\(N\)</span> by Time will automatically appear. You can change the <span class="math inline">\(r\)</span> value, the data and chart will automatically adjust.</li>
</ol>
<div id="exercise-1" class="section level3">
<h3>Exercise 1</h3>
<p>Please provide short answers to the following questions (and you will be asked to <strong>provide your Excel spreadsheet via Top Hat</strong>).</p>
<ul>
<li><p><strong><em>Short answer (1a.)</em></strong> Change the per-capita growth rate to 0.07 in cell D3. Based on what we did together in the demo, this should change the value of abundance in year 30 (cell B32) automatically. Next, apply equation 10 (continuous-growth model- see above) to compute expected population size in year 30 (now you are assuming that the per-capita rate of growth represents <em>continuous</em> and not <em>discrete</em> growth). Do you get the same answer for the discrete-time model (analogous to what we did together as a demo) and the continuous-growth model? Why or why not? NOTE: computing abundance at time t in the continuous-time model is a <em>single calculation</em>- don’t overthink this one. You could use a calculator instead of Excel if you really want! HINT: use the EXP function in Excel to raise <em>e</em> (base of the natural logarithm) to any power: for example, to compute <span class="math inline">\(e^{1.7}\)</span> you type “=EXP(1.7)” in Excel. In general, if you don’t know the syntax for a function in Excel, click on the button labeled “fx” and you can search for functions easily!</p></li>
<li><p><strong><em>Short answer (1b.)</em></strong> What are the <em>units</em> of the per-capita rate of population growth, <span class="math inline">\(r\)</span>? HINT: The answer is in the Gotelli book</p></li>
<li><p><strong><em>Short answer (1c.)</em></strong> What if the time step for your simulation were half-years instead of one year? How would <span class="math inline">\(r\)</span> change (i.e., if r represents per-capita growth in one year, what is the expected growth over a half-year)? HINT: just divide the rate by 2! Try it in Excel! Use both methods (eq. 16 vs equation 10) to compute population size at year 30 (that is, use both the discrete-time and continuous-time methods to compute the population size in year 30). (HINT: you should now use the half-year rate instead of the annual growth rate, and you should use 60 as the number of time steps). Do you see any difference between your answer (abundance at year 30) using the discrete-time formula (eq. 16) at a one-year time step vs. a half-year time step? Do you see any difference between your answer (abundance at year 30) using the continuous-time formula (eq. 10) at a one-year time step vs. a half-year time step? Would your discrete-time estimate of abundance at year 30 be closer to the continuous-time estimate if you used a one-month time step? [NOTE: you could test this using equation 17 with r equal to 1/12 of the value in cell D3 and number of time steps equal to 12*30]? Why or why not? [in other words, is the discrete-time estimate closer to the continuous-time abundance estimate when you use months instead of years as the time step?]</p></li>
<li><p><strong><em>Short answer (1d.)</em></strong> What is the difference between continuous population growth and discrete population growth? Can you think of at least one case where continuous growth (eq. 10) would be a more biologically realistic model than discrete growth (eq. 16)? Can you think of at least one case where discrete-time population growth would be a more biologically realistic model than continuous growth? Justify your answer.</p></li>
</ul>
</div>
</div>
<div id="exponential-growth-in-r" class="section level2">
<h2>Exponential growth in R</h2>
<p>R is the most common software used by ecologists and conservation biologists for data analysis and simulation. R is incredibly powerful and useful, but there is a little bit of a learning curve with R! I will try to integrate R into this class as much as I can. We will do more with R when we get into data analysis! And you will do a LOT more with R in NRES 488!</p>
<div id="set-up" class="section level3">
<h3>SET UP</h3>
<p>Open the R software from the program menu or desktop.</p>
</div>
</div>
<div id="procedure" class="section level2">
<h2>PROCEDURE</h2>
<div id="step-i-set-up-r-and-rstudio" class="section level3">
<h3>STEP I: Set up R and RStudio!</h3>
<p>Go to website <a href="http://cran.r-project.org/">http://cran.r-project.org/</a>. This is the source for the free, public-domain R software and where you can access R packages, find help, access the user community, etc.</p>
<p>Install <a href="https://rstudio.com/products/rstudio/download/">Rstudio</a>. This is a program that makes R easier to use!</p>
</div>
<div id="step-ii.-take-some-time-to-get-familiar-with-r" class="section level3">
<h3>STEP II. Take some time to get familiar with R</h3>
<p>If you already have some R expertise, this is your opportunity to help your peers develop the level of comfort and familiarity with R that they will need to perform data analysis and programming tasks in this course.</p>
<p>Depending on whether you are already familiar with R, you may also find the remainder of this document useful as you work your way through the course (and there are many other good introductory R resources available online… let me know if there is one you particularly like and I will add it to the course website (Links page)). As you work your way through this tutorial on your own pace, please ask the instructor or your peers if you are uncertain about anything.</p>
<p>For a more detailed tutorial, see my “R Bootcamp” website: <a href="https://kevintshoemaker.github.io/R-Bootcamp/">https://kevintshoemaker.github.io/R-Bootcamp/</a>!</p>
</div>
<div id="set-up-the-workspaceenvironment" class="section level3">
<h3>Set up the workspace/environment</h3>
<p>The first thing we usually do when we start an R session is we:</p>
<ol style="list-style-type: decimal">
<li>Open an new or existing RStudio Project</li>
<li>Open a new or existing <strong>script</strong></li>
<li>In the script, define key variables and functions, and load any additional <strong>packages</strong> (extensions) into our environment (or workspace). When you write code, always type in the “script” window in Rstudio. You can execute commands using command-enter or control-enter in Rstudio.</li>
</ol>
<p>In this lab, setting up the workspace is easy. We don’t need to load any packages or define any new functions. We just need to define our parameter of interest - <span class="math inline">\(r\)</span> -, and set up a <strong>storage vector</strong> to store population abundance over time.</p>
<p>We can store data in memory by assigning it to an “object” using the assignment operator <strong>&lt;-</strong>. For example, this would assign the object “x” the value of 5.</p>
<pre class="r"><code>x &lt;- 5     # define the variable &#39;x&#39; as representing the value 5
x          # Print the value stored in the object &quot;x&quot;</code></pre>
<p>Note that any text after a pound sign (#) is not evaluated by R. These are <em>comments</em> and are intended to help you follow the code. You should always include comments in any code that you write- we humans tend to read and understand written language better than computer code!</p>
<p>Let’s assign our per-capita population growth rate, <span class="math inline">\(r\)</span> (but this could be called anything), and our initial population size to an object called <strong>N0</strong> (that is, population size at time 0), and the number of years to simulate.</p>
<pre class="r"><code>r &lt;- 0.1     #Assign the value of 0.1 to the object &quot;r&quot;, or per-capita growth rate (discrete)
lambda &lt;- 1 + r           # (1 + r) is equal to lambda, the finite rate of growth.  This stores the result of the calculation (1 + 0.1 = 1.1) in the object &quot;lambda&quot;.
N0 &lt;- 100    #Assign the value of 100 to the object &quot;N0&quot;, or initial population size
nyears &lt;- 30 #Assign the value of 30 to the object &quot;nyears&quot;, or the number of time steps to simulate</code></pre>
<p>If we want to know what the population size is at the next time step, we can simply multiply N0 by lambda.</p>
<pre class="r"><code>N0 * lambda   #Multiplies the value stored in the object &quot;N0&quot; by lambda. As soon as you run this line of code, the result of the calculation is printed.</code></pre>
<pre><code>## [1] 110</code></pre>
<p>How can we find the population size for the next 30 years? Let’s first make an object that is a vector of years using the <strong>seq()</strong> or “sequence” function.</p>
<pre class="r"><code>year &lt;- seq(from=0, to=nyears, by=1)   #Creates a sequence of numbers from 0 to the value stored in the object &quot;nyears&quot; (in this case, 50). Because you&#39;ve told this sequence to increment by 1, you&#39;ve created a string of numbers from 0 - 50 that contains 51 elements. A single series of elements (e.g., a single column of numbers) is called a vector. You then assign this vector to the object &quot;years&quot;.

year                                   #Print the value of the object &quot;years&quot; that you just created.</code></pre>
<pre><code>##  [1]  0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
## [26] 25 26 27 28 29 30</code></pre>
<p>Now, let’s build a storage structure to store simulated population size over this time period</p>
<pre class="r"><code>N &lt;- numeric(nyears+1)    #Make an empty storage vector. The numeric() function takes the contents within the parentheses and converts those contents to the &quot;numeric&quot; class. Don&#39;t worry if this doesn&#39;t make sense -- what you need to know is that the value within the parentheses (in this case, 50+1=51) is used to tell this function how many zeros to create. So, this line of code creates a vector of 51 zeros, and assigns that vector to the object &quot;N&quot;.

names(N) &lt;- year

N                         #Prints the contents of the object &quot;N&quot;.</code></pre>
<pre><code>##  0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 
##  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0 
## 26 27 28 29 30 
##  0  0  0  0  0</code></pre>
</div>
<div id="run-the-simulation" class="section level3">
<h3>Run the simulation!</h3>
<p>Then we can use a <strong>for loop</strong> (a very powerful computer programming trick) to automatically generate the population size for each of those years (note the similarity in the equation inside the for loop to Expression 1.15 in Gotelli).</p>
<pre class="r"><code>N[1] &lt;- N0                # The brackets [] are used to indicate the position of an element within a vector. This line of code assigns the value of the object &quot;N0&quot; (100) to the first element in the &quot;N&quot; object. Remember, the &quot;N&quot; object is a vector of 51 zeros. Now, the first zero is changed to 100.

for (i in 2:(nyears+1)){  # This for-loop will run through the line of code between the curly brackets {}. &quot;i&quot; is simply the name of a variable (you can use &quot;j&quot;, or &quot;k&quot;, instead -- any variable name will do). &quot;i&quot; changes each time the loop iterates; basically, it will increase by 1 each time the loop is run, starting at &quot;2&quot; up until the specified maximum number of loops &quot;nyears+1&quot;. 
  N[i] &lt;- N[i-1] * lambda  # This takes the [i - 1] element of &quot;N&quot;, multiplies that element by the value of lambda, then assigns that calculated result to the [i] element of &quot;N&quot;.
}                         # This ends the for-loop.

N                         # Now print the contents of the object &quot;N&quot;.</code></pre>
<pre><code>##         0         1         2         3         4         5         6         7 
##  100.0000  110.0000  121.0000  133.1000  146.4100  161.0510  177.1561  194.8717 
##         8         9        10        11        12        13        14        15 
##  214.3589  235.7948  259.3742  285.3117  313.8428  345.2271  379.7498  417.7248 
##        16        17        18        19        20        21        22        23 
##  459.4973  505.4470  555.9917  611.5909  672.7500  740.0250  814.0275  895.4302 
##        24        25        26        27        28        29        30 
##  984.9733 1083.4706 1191.8177 1310.9994 1442.0994 1586.3093 1744.9402</code></pre>
</div>
<div id="plotting" class="section level3">
<h3>Plotting</h3>
<p>Let’s plot our population size against time.</p>
<pre class="r"><code>plot(N~years)   #This plot() function tells R to plot the y variable by the x variable. &quot;N&quot; is the y variable (dependent variable), and &quot;years&quot; is the x variable (independent variable). The tilda &quot;~&quot; stands for &quot;as a function of&quot;. There are many ways to customize the appearance of a plot in R - for now, just use the defaults.</code></pre>
<p><img src="LAB1_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="exercise-2-r-related-problems" class="section level3">
<h3>Exercise 2 (R-related problems)</h3>
<p>Please provide short answers to the following questions. You will also be asked to <strong>provide your R code via tophat to back up your answers</strong>.</p>
<ul>
<li><p><strong><em>Short answer (2a.)</em></strong> Modify the above code to run for 85 years. Plot your results (abundance vs time). What is the final population size at year 85?</p></li>
<li><p><strong><em>Short answer (2b.)</em></strong> Change r to 0.35 and run again for 85 years (and plot the results). What is the final population size now? Include your plot as part of your answer (abundance vs time).</p></li>
<li><p><strong><em>Short answer (2c.)</em></strong> Try to modify the value of <span class="math inline">\(r\)</span> such that the final population size after 85 years is 1000 (initial population size stays at 100). What is the value of <span class="math inline">\(r\)</span>? After you solve it by trial and error, try to solve this problem analytically using Eq. 10. Show your calculations.</p></li>
<li><p><strong><em>Short answer (2d.)</em></strong> Change the value of <span class="math inline">\(r\)</span> to -0.08. How long until the population goes extinct? NOTE: please define extinction as &lt;1 individual in the population- a fraction of an individual is not much of a population! Finally, propose one alternative definition of extinction and justify why this definition might make more sense than the definition stated above (feel free to use a real-world example).</p></li>
</ul>
</div>
</div>
<div id="exponential-growth-in-insightmaker" class="section level2">
<h2>Exponential growth in InsightMaker</h2>
<p>You should already have created a free account in <a href="https://insightmaker.com/">insightmaker</a>, and you should already know the basics about how to set up and run a model.</p>
<ol style="list-style-type: decimal">
<li><p>Click “Create New Insight” to start a new model (click “Clear this Demo” to clear the canvas and have an open workspace). Save the blank model by clicking the “Save” button.</p></li>
<li><p>Create a new [Stock] named <em>Population</em> using the “<strong>Add Primitive</strong>” button at top left (“Primitive” is just a computer-sciencey term referring to basic building blocks of a computer programming language). You can name the [Stock] and configure it in the properties tab at the right. Make sure you set the [Stock] so that negative values are NOT allowed.</p></li>
</ol>
<p><img src="IM1.png" /></p>
<ol start="3" style="list-style-type: decimal">
<li><p>Change the Initial Value of <em>Population</em> to 100.</p></li>
<li><p>Create a new [Flow] going from empty space to the primitive <em>Population</em> (make sure the <strong>Flow/Transitions</strong> button is activated instead of <strong>Links</strong> at the top, hover over <em>Population</em> until an arrow appears, click and drag to create the [Flow], use the <strong>Reverse Connection Direction</strong> button to change the flow direction). Name the flow <em>Births</em>.</p></li>
<li><p>Create a new [Flow] going from <em>Population</em> to empty space. Name the flow <em>Deaths</em>.</p></li>
<li><p>The model diagram should now look something like this:</p></li>
</ol>
<p><img src="IM2.png" /></p>
<ol start="7" style="list-style-type: decimal">
<li><p>Change the <strong>Flow Rate</strong> property of <em>Births</em> to 0.16 <span class="math inline">\(*\)</span> [Population]. This represents the total number of individuals entering the [Stock] (population) in each time step.</p></li>
<li><p>Change the <strong>Flow Rate</strong> property of <em>Deaths</em> to 0.10 <span class="math inline">\(*\)</span> [Population]. This represents the total number of individuals leaving the [Stock] (population) in each time step.</p></li>
</ol>
<p>Can you already tell whether this is a growing or declining population? (just a quick thought question, not part of the written lab!)</p>
<ol start="9" style="list-style-type: decimal">
<li>Run the model by clicking the <strong>Simulate</strong> button. We can change how the simulation is run by clicking the <strong>Settings</strong> button (left of Save). We can also change the settings of how the plot is created by clicking the <strong>Configure</strong> button within the simulation results window.</li>
</ol>
<div id="exercise-3-insightmaker-problems" class="section level3">
<h3>Exercise 3 (InsightMaker problems)</h3>
<p>Please provide short answers to the following questions, and (when prompted) <strong>provide your “Insights” to back up your answers</strong>.</p>
<p>First, modify the above model so that per-capita (discrete) birth rate (<span class="math inline">\(b_d\)</span>) and death rate (<span class="math inline">\(d_d\)</span>) are separate elements of the model (using the “Variable” primitive). Your Insight should look something like this:</p>
<p><img src="IM3.png" /></p>
<p>To enable easy manipulation of these variables, change the <strong>Show Value Slider</strong> options for <em>Birth Rate</em> and <em>Death Rate</em> (in the properties windows for these variables) to ‘Yes’. For both of these two variables, change the <strong>Slider Max value</strong> to 1, the <strong>Slider Min value</strong> to 0, and the <strong>Slider Step value</strong> to 0.01. For <em>Population</em>, set the <strong>Show Value Slider</strong> option to ‘Yes’; for this slider (which represents initial abundance <span class="math inline">\(N_0\)</span>), set the maximum slider value to 1000 and set the slider step size to 1 so we don’t have fractional individuals!</p>
<p>Now click on the white space of your model; you should now see the Birth Rate, Population and Death Rate sliders on the info tab. Change the slider values of the rates a few times, re-running the simulation each time. When you are confident that your model is working right, share it with your instructor and TA (save as a “public insight” and insert URL in the appropriate place in Top Hat).</p>
<p><strong>Clone</strong> your previous Insight before you move on to the next problem (otherwise any changes you make will carry over to your answer to the previous problem!). The “Clone Insight” link is located in the upper right corner. In general, always clone your Insights after you have copied a link to an insight into your lab write-up. That way, you won’t inadvertently change a model before your instructors have a chance to verify you did everything right!</p>
<ul>
<li><strong><em>Short answer (3a.)</em></strong> Starting with a growing population, can you come up with two different scenarios in which <em>Population</em> is neither growing nor declining, by only changing one of the sliders from the starting conditions (ie, starting with the version you just submitted)? Explain your answer.</li>
</ul>
<p>##Checklist for Lab 1 completion *Please submit all files (Excel file as attachment in Top Hat and R script as text pasted into Top Hat) and responses via Top Hat. The InsightMaker models should be shared by saving your Insights as “public” and sharing the URL link with your instructors in Top Hat.</p>
<p><strong><em>Due Feb. 4</em></strong></p>
<ul>
<li>Top Hat short answers and file submissions
<ul>
<li><strong>Exercise 1</strong>
<ul>
<li><em>Short answer (1a.)</em></li>
<li><em>Short answer (1b.)</em></li>
<li><em>Short answer (1c.)</em></li>
<li><em>Short answer (1d.)</em></li>
<li><em>Submit Excel file (1e.)</em> Your Excel file should show that you were able to successfully use formulas to calculate <span class="math inline">\(N_t\)</span> for each time step (year and half-year) and show a plot of <span class="math inline">\(N\)</span> by Time.</li>
</ul></li>
<li><strong>Exercise 2</strong>
<ul>
<li><em>Short answer and plot (2a.)</em></li>
<li><em>Short answer and plot (2b.)</em></li>
<li><em>Short answer (2c.)</em></li>
<li><em>Short answer (2d.)</em></li>
<li><em>Copy and paste R code (2e.)</em> Your R code should show that you were able to:
<ol style="list-style-type: lower-alpha">
<li>adapt the given code to run for 85 years, and can display a plot of the results;<br />
</li>
<li>change <span class="math inline">\(r\)</span> to 0.35 and run for 85 years and plot the results;<br />
</li>
<li>identify a value of <span class="math inline">\(r\)</span> that gives a population size of 1000 after 85 years; and<br />
</li>
<li>change <span class="math inline">\(r\)</span> to -0.08 and run until the population goes extinct- and plot the results.</li>
</ol></li>
</ul></li>
<li><strong>Exercise 3</strong>
<ul>
<li><em>Short answer (3a.)</em></li>
<li><em>Submit InsightMaker link (3b.)</em></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
